<md-content ng-init="init()" layout="col">
  <div layout="row" style="width:100%">
    <md-tabs md-dynamic-height md-border-bottom style="width:100%">
      <md-tab label="projects">
        <md-content layout="column" class="md-padding" style="min-height:300px">
        <div layout="row" style="width:100%" layout-align="end end">
          <md-button class="md-primary" aria-label="Add project" ng-click="newProject()">
            Add project
          </md-button>
        </div>
          <!-- No projects card -->
          <md-card ng-show="!loading && !adding && (!projects || !projects.length)" style="margin-top:50px">
            <md-card-content layout="row">
              <p layout-align="center center" class="md-title" style="width:100%;text-align:center">No projects. Click 'Add' to create one</p>
            </md-card-content>
          </md-card>
           <!-- Editor -->
          <div ng-show="adding" layout="column">
            <div layout="row" style="margin-top:20px">
              <md-input-container class="md-icon-float" style="width:90%">
                <label>Project title</label>
                <md-icon md-svg-src="img/ic_assignment_black_24px.svg" class="name"></md-icon>
                <input ng-model="project.title" type="text" focus-on="adding">
              </md-input-container>
              <md-button class="md-primary" ng-click="cancelNewProject()" aria-label="Cancel">
                <md-icon md-svg-src="img/ic_close_black_24px.svg" class="name"></md-icon>
              </md-button>
            </div>
            <md-button class="md-primary" ng-click="addProject()">Create project</md-button>
          </div>
          <!-- Project   list -->
          <div ng-show="!loading && !adding && projects && projects.length">
            <md-list ui-sortable="sortableOptions" ng-model="projects">
              <md-list-item ng-repeat="project in projects">
                <md-whiteframe class="md-whiteframe-z1" flex="100" layout="column" layout-align="start center" style="width:100%;margin-bottom:20px">
                  <div layout="row" style="width:100%">
                    <md-icon class="itemHandle" md-svg-src="img/vert.svg" class="s24" aria-label="Move"></md-icon>
                    <p style="margin-right:24px;font-weight:bold" ng-bind="project.title"></p>
                    <p flex></p>
                    <md-button class="md-icon-button md-primary" ng-href="#/project/{{project._id}}">
                      <md-icon md-svg-src="img/ic_content_paste_black_24px.svg" aria-label="View project" class="md-secondary md-hue-3"></md-icon>
                      <md-tooltip>View project</md-tooltip>
                    </md-button>
                  </div>
                  <div layout="row" flex layout-align="start start" style="text-align:left;width:100%;padding:0 10px">
                    <p flex>{{project.unfinished}} open tasks</p>
                    <p>Created <span am-time-ago="project.created"></span></p>
                  </div>
                </md-whiteframe>
              </md-list-item>
            </md-list>
          </div>
        </md-content>
      </md-tab>
      <md-tab label="tasks">
        <md-content class="md-padding" style="min-height:300px">
          <div ng-cloak>
            <!-- <md-whiteframe ng-repeat="project in projects" class="md-whiteframe-z2" flex="25" layout layout-align="center center">
              <span>{{project.title}}</span>
              <md-button class="md-primary" ng-click="edit(project)">
                <md-icon md-svg-src="img/ic_content_paste_black_24px.svg" aria-label="Edit project" class="md-secondary md-hue-3"></md-icon>
                <md-tooltip>View project</md-tooltip>
              </md-button>
            </md-whiteframe> -->
          </div>
        </md-content>
      </md-tab>
      <md-tab label="calendar">
        <md-content class="md-padding">
          <calendar-md flex layout layout-fill calendar-direction="horizontal" on-prev-month="prevMonth" on-next-month="nextMonth" on-day-click="dayClick" title-format="'MMMM y'" ng-model='selectedDate' week-starts-on="0" day-format="dayFormat" day-label-format="'EEE'" day-label-tooltip-format="'EEEE'" day-tooltip-format="'fullDate'" day-content="setDayContent">
          </calendar-md>
        </md-content>
      </md-tab>
    </md-tabs>
    <!-- <div style="background-color:#fff;border-left:1px solid #eee;height:100%;width:8%;position:absolute;padding-top:50px" layout="column" layout-align="start center">
      <md-button class="md-fab md-mini md-primary" aria-label="Add project" ng-href="#/projects">
        <md-icon md-svg-src="img/ic_add_circle_white_24px.svg"></md-icon>
      </md-button>
    </div>
  </div> -->
  <!-- <md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="right" style="min-width:80px;width:80px">
    <div ng-controller="NavCtrl">
      <md-toolbar class="md-theme-light" layout="row" >
        <md-button ng-click="close()" class="md-no-ink" aria-label="Close">
          <md-icon md-svg-src="img/ic_close_white_24px.svg"></md-icon>
        </md-button>
      </md-toolbar>
      <md-content>
        <md-button ng-click="close()" class="md-no-ink" aria-label="Close" style="width:60px;margin:auto">
          <md-icon md-svg-src="img/ic_close_black_24px.svg"></md-icon>
        </md-button>
      </md-content>
    </div>
  </md-sidenav> -->
  <!-- Project selector -->
  <!-- <md-input-container style="width:300px">
    <label>Select project</label>
    <md-select ng-model="project">
      <md-option ng-repeat="project in projects" ng-value="project.title">
        {{project.title}}
      </md-option>
    </md-select>
  </md-input-container> -->
  <!-- <div layout="row" style>
    <md-button aria-label="Projects" class="md-icon-button" style="width:100px;margin-top:10px" ng-href="#/projects">
      <md-icon md-svg-src="img/ic_assignment_black_24px.svg"></md-icon>
      Projects
    </md-button>
    <md-button aria-label="Projects" class="md-icon-button" style="width:100px;margin-top:10px" ng-href="#/projects">
      <md-icon md-svg-src="img/ic_assignment_ind_black_24px.svg"></md-icon>
      My Tasks
    </md-button>
    <md-button aria-label="Projects" class="md-icon-button" style="width:110px;margin-top:10px" ng-href="#/projects">
      <md-icon md-svg-src="img/ic_today_black_24px.svg"></md-icon>
      Calendar
    </md-button>
    <span flex></span> -->
  <!-- </div> -->
  <div ng-show="loading" layout="row" layout-sm="column" layout-align="space-around">
    <md-progress-linear md-mode="indeterminate"></md-progress-linear>
  </div>
</md-content>
